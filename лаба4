#include <iostream> //подключаем библиотеку ввод/вывод  
#include <fstream> //подключаем библиотеку для работы с файлами 
#include <locale.h> //подключаем библиотеку для локализации 
 
using namespace std; //подключаем пространство имен 
 
int number(int b){ //объявляем функцию,в аргументах указываем число 
    int count = 1; //объявляем и присваиваем переменную числом 1 
    for (int i = 1; i < b; i++){ //цикл 
        if (b % i == 0){ //если число i является множетелм b 
            count++; //увеличиваем количество простых чисел 
        } 
    } 
    return count; //возращаем количество простых чисел   
} 
 
int main(){ 
    setlocale(LC_ALL, "ru"); //подключаем русский язык 
 
    ifstream f_input; //объявляем переменную для чтения с файла 
    ofstream f_output; //объявляем переменную для записи в файл 
    ofstream result("result.txt "); //открываем файл для записи 
 
    int count = 0; //объявляем и инициализируем 0 числовую переменную 
    int numberInTheFile; //объявляем переменную для числа из файла 
    int num; //объявляем числовую переменную 
     
    do{ //цикл do while 
        cout << "Введите целое число: "; //просим ввести число 
        cin >> num; //вводим число 
 
        if (num != 0){ //если число не равно нулю 
            f_output.open("R.txt" ); //открываем файл для записи 
            f_output << num << '\n'; //записываем в файл число 
            f_output.close(); //закрываем файл 
        } 
        else{ //если число равно нулю 
            cout << "Последовательность завершена!"; //выводим на экран 
        } 
    } while (num != 0); //цикл выполняем пока num не равн нулю 
 
    f_input.open("R.txt", ios_base::app); //открываем файл для  записи в конец
 
    while (f_input >> numberInTheFile){ //читаем с файла числа, пока их не останится 
        result << number(numberInTheFile) << endl; //в файл записываем количество простых чисел у прочитанных из файла числе         
    } 
    result << "Общие количество простых чисел в последовательности равно: " << count; //выводим количество простых чисел 
    f_input.close(); //закрываем файл 
    return 0; 
 
}
